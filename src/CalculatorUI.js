import React, {Component} from 'react';
import CalculatorModel from "./CalculatorModel";


export default class CalculatorUI extends Component
{


  componentDidMount()
  {
    this.model = new CalculatorModel();
  }

  render()
  {
    return (
      <div className="CalculatorUI">
        <table>
          <tbody>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          <tr>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
            <td><input type="text" className="inputTf" name="" id=""/></td>
          </tr>
          </tbody>
        </table>


        <p><a onClick={() => {
          this.runGrid()
        }}>Run Grid </a></p>
        <a onClick={() => {
          this.model.runRandom()
        }}>Run Random </a>
      </div>);
  }


  runGrid()
  {
    let inputTfs = window.document.getElementsByClassName("inputTf");
    //这里是横竖排列和model是反的，没关系，因为是对称，都一样。
    let gridVals = [];
    for (let i = 0; i < 81; i++)
    {
      gridVals.push( parseInt(inputTfs.item(i).value) || 0);
    }
    this.model.runGrid( gridVals  , (result)=>{

      for (let i = 0; i < 81; i++)
      {
        inputTfs.item(i).value = result[i];
      }
    });
  }
}